(this.webpackJsonpA=this.webpackJsonpA||[]).push([[3],{16:function(e,t,n){"use strict";var r=n(25),a=n.n(r),o=n(9),c=n.n(o);var s=a.a.create({baseURL:c.a.API_URL,headers:{authorization:function(){try{var e=localStorage.getItem("token");return JSON.parse(e)}catch(t){return localStorage.removeItem("token"),null}}()}});t.a=s},17:function(e,t,n){"use strict";var r=n(8),a=n.n(r),o=n(11),c=n(15),s=n(30),i=n(31),u=n(16),l=n(9),p=n.n(l),f=n(4),d=n(48),m=(n(25),function(){function e(){Object(s.a)(this,e),this.isLogin=function(){return!!localStorage.getItem("token")},this.getCurrentUser=function(){var e=JSON.parse(localStorage.getItem("user"));return e||!1},this.getType=function(){var e=JSON.parse(localStorage.getItem("type"));return e||!1}}return Object(i.a)(e,[{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"signIn",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,s,i,l,m,g,v,h=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=h.length>3&&void 0!==h[3]?h[3]:1e3,e.prev=1,e.next=4,u.a.post(p.a.AUTH_PATH+"/sign-in",{email:t,password:n,type:r});case 4:return s=e.sent,i=s.data,Object(f.a)("successful login",i.message,"success"),l=i.results,m=Object(o.a)(l,2),g=m[0],v=m[1],localStorage.setItem("token",JSON.stringify(g)),localStorage.setItem("user",JSON.stringify(v)),localStorage.setItem("type",JSON.stringify(r)),setTimeout((function(){return window.location.reload()}),c),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var o,c,s,i,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>3&&void 0!==l[3]?l[3]:"patient",e.prev=1,e.next=4,u.a.post(p.a.AUTH_PATH+"/sign-up",{email:t,password:n,name:r,type:o});case 4:return c=e.sent,s=c.data,Object(f.a)("successful signup",s.message,"success"),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.t0.response?(i=e.t0.response.data)&&Object(f.a)("error",i.message,"warning"):Object(f.a)("error",e.t0.message,"danger"),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post(p.a.AUTH_PATH+"/password",{email:t});case 3:return n=e.sent,r=n.data,Object(f.a)("successful send !",r.message,"success"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.t0.response?(o=e.t0.response.data)&&Object(f.a)("error",o.message,"warning"):Object(f.a)("error",e.t0.message,"danger"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.patch(p.a.AUTH_PATH+"/password",{password:t,token:n});case 3:return r=e.sent,o=r.data,Object(f.a)("successful send !",o.message,"success"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.t0.response?(c=e.t0.response.data)&&Object(f.a)("error",c.message,"warning"):Object(f.a)("error",e.t0.message,"danger"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("type"),setTimeout((function(){return window.location.reload()}),e),Object(f.a)("successful logout","successfull logout from server")}}]),e}());t.a=new m},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(11),a=n(0),o=n.n(a),c=o.a.createContext(),s=function(e){var t=e.children,n=Object(a.useState)(!1),s=Object(r.a)(n,2),i=s[0],u=s[1];function l(){u(!i)}function p(){u(!1)}var f=Object(a.useMemo)((function(){return{isSidebarOpen:i,toggleSidebar:l,closeSidebar:p}}),[i]);return o.a.createElement(c.Provider,{value:f},t)}},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;return r.Store.addNotification({title:e,message:t,type:n,insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:30*t.length||a,onScreen:!0}})}},48:function(e,t,n){"use strict";var r=n(4);t.a=function(e){if(e.response){var t=e.response.data;t&&Object(r.a)("error",t.message||"erorr","warning")}else Object(r.a)("error",e.message||"erorr","danger");return!1}},49:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(){return a.a.createElement("div",{className:"w-full h-screen p-6 text-lg font-medium text-gray-600 dark:text-gray-400 dark:bg-gray-900"},"Loading...")}},52:function(e,t,n){e.exports=n(85)},57:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(21),c=n.n(o),s=(n(57),n(14)),i=n(1),u=n(11);var l=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(i.h)();return Object(r.useEffect)((function(){c.pathname.slice(1)?setTimeout((function(){return o("Navigated to ".concat(c.pathname.slice(1)," page."))}),500):o("")}),[c]),a.a.createElement("span",{className:"sr-only",role:"status","aria-live":"polite","aria-atomic":"true"},n)},p=(n(38),n(19)),f=n(17),d=function(e){var t=e.component,n=Object(p.a)(e,["component"]),r=f.a.isLogin;return a.a.createElement(i.b,Object.assign({},n,{render:function(e){return r()?a.a.createElement(t,e):a.a.createElement(i.a,{to:"/login"})}}))},m=function(e){var t=e.component,n=e.restricted,r=Object(p.a)(e,["component","restricted"]),o=f.a.isLogin;return a.a.createElement(i.b,Object.assign({},r,{render:function(e){return o()&&n?a.a.createElement(i.a,{to:"/"}):a.a.createElement(t,e)}}))},g=Object(r.lazy)((function(){return Promise.all([n.e(5),n.e(0),n.e(19)]).then(n.bind(null,478))})),v=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,467))})),h=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,468))})),b=Object(r.lazy)((function(){return n.e(17).then(n.bind(null,469))}));var w=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,null,a.a.createElement(l,null),a.a.createElement(i.d,null,a.a.createElement(m,{exact:!0,restricted:!0,path:"/login",component:v}),a.a.createElement(m,{exact:!0,restricted:!0,path:"/create-account",component:h}),a.a.createElement(m,{exact:!0,restricted:!0,path:"/forgot-password",component:b}),a.a.createElement(d,{path:"/app",component:g}),a.a.createElement(i.a,{from:"*",to:"/app"}))))},O=n(32),j=n(49),y=n(28),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var E=n(20);n(84);c.a.render(a.a.createElement(O.b,null,a.a.createElement(E.ReactNotifications,null),a.a.createElement(r.Suspense,{fallback:a.a.createElement(j.a,null)},a.a.createElement(y.Windmill,{usePreferences:!0},a.a.createElement(w,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");k?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):S(t,e)}))}}()},9:function(e,t){e.exports={API_URL:"http://178.128.242.77:6060",AUTH_PATH:"/auth",API_PATH:"/api"}}},[[52,4,6]]]);
//# sourceMappingURL=main.e84f313f.chunk.js.map